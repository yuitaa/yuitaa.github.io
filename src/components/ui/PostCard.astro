---
import FormattedDate from '@/components/ui/FormattedDate.astro';

export type PostCardProps = {
  title: string;
  date: Date;
  url: string;
  thumbnail: string;
  source: string;
};

interface Props extends PostCardProps {}

const { title, date, url, thumbnail, source } = Astro.props;
---

<article>
  <a
    href={url}
    target="_blank"
    rel="noopener noreferrer"
    class="group flex h-full overflow-hidden border border-gray-200 bg-white text-left transition-all duration-300 hover:border-cyan-900 hover:shadow-md md:block">
    <div class="aspect-square w-24 min-w-24 overflow-hidden bg-gray-100 md:aspect-video md:w-full">
      <img
        src={thumbnail}
        alt=""
        class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
        loading="lazy"
      />
    </div>

    <div class="flex flex-col justify-center overflow-hidden p-2 md:justify-start">
      <span class="font-mono text-xs">
        <FormattedDate date={date} class="text-gray-400" />
        <span>{source}</span>
      </span>

      <h3 class="mt-1 line-clamp-2 text-sm leading-snug font-bold text-gray-800 group-hover:text-cyan-600 md:text-base">
        {title}
      </h3>
    </div>
  </a>
</article>
